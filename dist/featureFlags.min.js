/*! Angular Feature Flags v1.6.1 Â© 2017 Michael Taranto */
!function(){function e(e,t){var a=[],n="",r=function(){return a},i=function(e){a=e},l=function(){return n},f=function(e){n=e},u=function(){e&&(a=e),t&&(n=t)};return u(),{getInitialFlags:r,setInitialFlags:i,getAppName:l,setAppName:f}}angular.module("feature-flags",[]),angular.module("feature-flags").directive("featureFlag",["featureFlags","$interpolate",function(e,t){return{transclude:"element",priority:599,terminal:!0,restrict:"A",$$tlb:!0,compile:function(a,n){var r="featureFlagHide"in n;return a[0].textContent=" featureFlag: "+n.featureFlag+" is "+(r?"on":"off")+" ",function(a,n,i,l,f){var u,s;a.$watch(function(){var n=t(i.featureFlag)(a);return e.isOn(n)},function(e){var t=r?!e:e;t?(s=a.$new(),f(s,function(e){u=e,n.after(u).remove()})):(s&&(s.$destroy(),s=null),u&&(u.after(n).remove(),u=null))})}}}}]),angular.module("feature-flags").directive("featureFlagOverrides",["featureFlags",function(e){return{restrict:"A",link:function(t){t.flags=e.get(),t.isOn=e.isOn,t.isOverridden=e.isOverridden,t.enable=e.enable,t.disable=e.disable,t.reset=e.reset,t.isOnByDefault=e.isOnByDefault},template:'<div class="feature-flags">  <h1>Feature Flags</h1>  <div id="feature-flag--{{flag.key}}" class="feature-flags-flag" ng-repeat="flag in flags">    <div class="feature-flags-name">{{flag.name || flag.key}}</div>    <div id="feature-flag--{{flag.key}}--enable" class="feature-flags-switch" ng-click="enable(flag)" ng-class="{\'active\': isOverridden(flag.key) && isOn(flag.key)}">ON</div>    <div id="feature-flag--{{flag.key}}--disable" class="feature-flags-switch" ng-click="disable(flag)" ng-class="{\'active\': isOverridden(flag.key) && !isOn(flag.key)}">OFF</div>    <div id="feature-flag--{{flag.key}}--reset" class="feature-flags-switch" ng-click="reset(flag)" ng-class="{\'active\': !isOverridden(flag.key)}">DEFAULT ({{isOnByDefault(flag.key) ? \'ON\' : \'OFF\'}})</div>    <div class="feature-flags-desc">{{flag.description}}</div>  </div></div>',replace:!0}}]),angular.module("feature-flags").service("featureFlagOverrides",["$rootElement","featureFlagConfig",function(e,t){var a="featureFlags.",n=function(){try{return localStorage.setItem("featureFlags.availableTest","test"),localStorage.removeItem("featureFlags.availableTest"),!0}catch(e){return!1}}(),r=function(e){return a+e},i=function(e){return 0===e.indexOf(a)},l=function(e,t){n&&localStorage.setItem(r(t),e)},f=function(e){return n?localStorage.getItem(r(e)):void 0},u=function(e){n&&localStorage.removeItem(r(e))};return t.getAppName().length>0&&(a+=t.getAppName()+"."),{isPresent:function(e){var t=f(e);return"undefined"!=typeof t&&null!==t},get:f,set:function(e,t){angular.isObject(e)?angular.forEach(e,l):l(t,e)},remove:u,reset:function(){var e;if(n)for(e in localStorage)i(e)&&localStorage.removeItem(e)}}}]),angular.module("feature-flags").service("featureFlags",["$q","featureFlagOverrides","featureFlagConfig",function(e,t,a){var n={},r=[],i=function(t){var a=e.defer();return a.resolve(t),a.promise},l=function(e){return t.isPresent(e)},f=function(e){return l(e)?"true"===t.get(e):n[e]},u=function(e){return n[e]},s=function(e){return e.forEach(function(e){n[e.key]=e.active,e.active=f(e.key)}),angular.copy(e,r),r},g=function(e){return e.then(function(e){return s(e.data||e)})},c=function(){return r},o=function(e){return angular.isArray(e)?i(s(e)):g(e)},v=function(e){e.active=!0,t.set(e.key,!0)},d=function(e){e.active=!1,t.set(e.key,!1)},m=function(e){e.active=n[e.key],t.remove(e.key)},F=function(){var e=a.getInitialFlags();e&&o(e)};return F(),{set:o,get:c,enable:v,disable:d,reset:m,isOn:f,isOnByDefault:u,isOverridden:l}}]),angular.module("feature-flags").provider("featureFlagConfig",function(){var t=[],a="";this.setInitialFlags=function(e){t=e},this.setAppName=function(e){a=e},this.$get=function(){return new e(t,a)}})}();